{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\source\\\\repos\\\\DGS-web\\\\src\\\\components\\\\Home\\\\pages\\\\NewsPost.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../../../firebase';\nimport { collection, deleteDoc, doc, onSnapshot, orderBy, query, setDoc } from \"@firebase/firestore\";\nimport Card from './Card';\nimport './Card.css';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction News() {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [pagenum, setPageNum] = useState(1);\n  useEffect(() => onSnapshot(query(collection(db, 'posts'), orderBy('timestamp', 'desc')), snapshot => {\n    setPosts(snapshot.docs);\n  }), [db]);\n\n  const pagesChange = (x, page_size) => {\n    if (x === 1 && pagenum * page_size >= posts.length) return;else if (x === 1) {\n      setPageNum(pagenum + 1);\n    } else if (x === -1 && pagenum === 1) return;else if (x === -1) {\n      setPageNum(pagenum - 1);\n    }\n  };\n\n  function paginate(array, page_size, page_number) {\n    // human-readable page numbers usually start with 1, so we reduce 1 in the first argument\n    return array.slice((page_number - 1) * page_size, page_number * page_size);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"news\",\n    children: [posts && paginate(posts, 5, pagenum).map(post => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/news/subpage/?id=${post.id}`,\n      style: {\n        textDecoration: 'none'\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Card, {\n        id: post.id,\n        post: post.data()\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 98\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)), /*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"Page navigation example\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"page-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"page-link\",\n            to: `/news/?${pagenum}`,\n            onClick: () => pagesChange(-1, 5),\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"page-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"page-link\",\n            to: `/news/?${pagenum}`,\n            onClick: () => pagesChange(1, 5),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(News, \"Q6MzSf2laqY3lD/24nCQ1DIIVAk=\");\n\n_c = News;\nexport default News;\n\nvar _c;\n\n$RefreshReg$(_c, \"News\");","map":{"version":3,"sources":["C:/Users/Daniel/source/repos/DGS-web/src/components/Home/pages/NewsPost.js"],"names":["React","useEffect","useState","db","collection","deleteDoc","doc","onSnapshot","orderBy","query","setDoc","Card","Link","News","posts","setPosts","pagenum","setPageNum","snapshot","docs","pagesChange","x","page_size","length","paginate","array","page_number","slice","map","post","id","textDecoration","data"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, {useEffect, useState} from 'react'\r\nimport { db } from '../../../firebase'\r\nimport {\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  setDoc,\r\n} from \"@firebase/firestore\";\r\nimport Card from './Card';\r\nimport './Card.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nfunction News() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [pagenum, setPageNum] = useState(1);\r\n  useEffect(() => \r\n     onSnapshot(query(collection(db, 'posts'), orderBy('timestamp', 'desc')),  (snapshot) => {\r\n       setPosts(snapshot.docs)\r\n      }),\r\n  [db]);\r\n\r\n  const pagesChange = (x, page_size) => {\r\n    if(x === 1 && pagenum * page_size >= posts.length)return;\r\n    else if(x === 1){\r\n      setPageNum(pagenum + 1);\r\n    }\r\n    else if(x === -1 && pagenum === 1)return\r\n    else if(x === -1) {\r\n      setPageNum(pagenum - 1);\r\n    }\r\n  }\r\n  \r\n  function paginate(array, page_size, page_number) {\r\n    // human-readable page numbers usually start with 1, so we reduce 1 in the first argument\r\n    return array.slice((page_number - 1) * page_size, page_number * page_size);\r\n  }\r\n  \r\n  return (\r\n    \r\n    <div className=\"news\">\r\n      {posts && paginate(posts, 5, pagenum).map((post) => \r\n      <Link to={`/news/subpage/?id=${post.id}`} style={{textDecoration : 'none'}} key={post.id}> <Card id={post.id} post={post.data()} key={post.id} /></Link>\r\n      )}\r\n    <nav aria-label=\"Page navigation example\">  \r\n       <ul className=\"pagination\">\r\n        <li className=\"page-item\"><Link className=\"page-link\" to={`/news/?${pagenum}`} onClick={() => pagesChange(-1, 5)}>Previous</Link></li>\r\n        <li className=\"page-item\"><Link className=\"page-link\" to={`/news/?${pagenum}`} onClick={() => pagesChange(1, 5)}>Next</Link></li>\r\n      </ul>\r\n      </nav>\r\n    </div>\r\n  \r\n  )\r\n}\r\n\r\nexport default News"]},"metadata":{},"sourceType":"module"}